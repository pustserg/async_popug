Нам надо 4 сервиса (все-таки асинхронную архитектуру придумываем)
1. CRUD для задач, где создаются задачи и назначаются на юзеров (рандомно. Там же меняется статус задачи и кнопка реайссайн)
2. Все эти задачи попадают потом в TaskProcessor где им случайным образом назначается цена (цену можно назначать и в CRUD и в accounting, но так веселее)
3. В аккаунтинге у нас нет ничего про задачи, есть только счет (по сути отображение юзера) и транзакции привязвнные к счету. Транзакции создаются по событиям в процессоре
4. Аналитика, сюда попадают все транзакции со счетами. Можно считать и в accounting, но аналитика не делает никаких write операций в базу, только чтение. Поэтому для секьюрности (и веселья) стоит вынести в отдельный сервис, а не подключать к read-only реплике accounting базы.

ДЗ первой недели - https://miro.com/app/board/uXjVMxWxdfY=/?share_link_id=866748802637

###ДЗ второй недели###
1. Переход стриминга задач на вторую версию - написать новые схемы событий, поменять валидации в продюсере (хорошо что у нас только два события пока и их можно поменять одним пулл реквестом, иначе пришлось бы писать разные  валидации для разных событий в отдельных валидаторах) и начать стримить уже новую версию эвентов. Так как у нас просто добавляется одно поле и не убирается никакого старого поля, то даже старые консюмеры могут работать с новой версией (backward compatibility).

2. Для уверенности что все деньги на месте и ничего не потерялось нам нужен AuditLog для каждой задачи в сервисе таск трекера где отображены все изменения в назначении задач и в статусе. И для каждой записи лога мы можем искать транзакцию в стриме транзакций и сохранять ее public_id. Если есть запись AuditLog без транзакции, значит что-то пошло не так.
